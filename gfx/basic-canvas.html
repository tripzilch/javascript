<!doctype html><html>

<head>
  <meta charset="utf-8">
  <style>*{margin:0;padding:0;}
    body {
      background: #113;
    }
    canvas{
      display: block;
      margin: 8px auto;
    }
  </style>
</head>

<body>
  <canvas id="c"></canvas>
  <script src="math.js"></script>
  <script>
    'use strict';
    // init canvas
    let canvas = document.getElementById("c");
    let W = canvas.width = 1440;
    let H = canvas.height = 720;
    let canvas_rect = canvas.getBoundingClientRect();
    let [mouse_x, mouse_y] = [0, 0];
    let keys = [];

    canvas.addEventListener('mousemove', ev => { 
      [mouse_x, mouse_y] = [ev.clientX - canvas_rect.left, ev.clientY - canvas_rect.top];
    }, false);
    window.addEventListener("keydown", ev => { keys[ev.keyCode] = true; });
    window.addEventListener("keyup", ev => { keys[e.keyCode] = false; });

    let ctx = canvas.getContext("2d");
    ctx.lineCap = 'round'; ctx.lineJoin = 'round';

    ctx.fillStyle = '#ddc';
    ctx.fillRect(0, 0, W, H);

    function draw() {
      ctx.strokeStyle = '#223';

      /* GFX CODE GOES HERE */
      
      window.requestAnimationFrame(draw);
    }
    draw();

  </script>
</body>

</html>
